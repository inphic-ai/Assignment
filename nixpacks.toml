# Nixpacks 配置 - Node.js 後端應用
# 此專案是全端應用，後端使用 Express，前端使用 Vite

[phases.setup]
nixPkgs = ["nodejs_20", "pnpm"]
aptPkgs = []

[phases.install]
cmds = ["pnpm install"]

[phases.build]
cmds = [
  "pnpm db:generate",
  "pnpm build",
  "npx tsc -p tsconfig.server.json"
]

[start]
cmd = "node dist/api/server.js"
